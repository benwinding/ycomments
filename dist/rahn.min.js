!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){const r=e(1);function o(t,n){const e=document.querySelector(n);if(null!=e)return function(t,n){if("true"==n.getAttribute("auto")){let n=window.location.href;return t.check(n).then(n=>t.fetchComments(n))}const e=n.getAttribute("comments");if(null!=e)return t.fetchComments(e);const r=n.getAttribute("subreddit");return null!=r?t.fetchComments(r):void 0}(t,e).then(n=>{const r=t.getCommentsIframe(n);e.appendChild(r)}).catch(n=>{console.error("Error:",n);const r=t.getErrorIframe();e.appendChild(r)});console.error("No tag found")}window.addEventListener("load",function(){o(r,"div[from=hn]")})},function(t,n,e){const r=e(2),o=e(4);t.exports={check:r.checkHnForUrl,fetchComments:r.fetchHnComments,getErrorIframe:function(){let t=`https://news.ycombinator.com/submitlink?u=${url}&t=${title}`;return o.makeIframeError("Reddit",t)},getCommentsIframe:function(t){return t.authorLink="https://news.ycombinator.com/user?id="+author,t.titleLink="https://news.ycombinator.com/item?id="+id,o.makeIframe("Reddit",t)}}},function(t,n,e){const r=e(3);t.exports={checkHnForUrl:function(t){let n=new URL(t).href,e="https://hn.algolia.com/api/v1/search?query="+encodeURIComponent(r.stripUrl(n))+"&restrictSearchableAttributes=url";return new XMLHttpRequest,r.getUrl({url:e,json:!0}).then(e=>(function(e){if(0==e.nbHits)return Promise.reject("Hacker News API: No posts found matching url:"+t);let o,i=e.hits,a=0;for(let t of i)r.isMatchTwoUrls(t.url,n)&&t.num_comments>=a&&(a=t.num_comments,o=t);if(null==o)return Promise.reject("Hacker News API: No url found matching:"+t);result_id=o.objectID,result_title=o.title,result_author=o.author;const c=`https://news.ycombinator.com/item?id=${result_id}`;return{id:result_id,link:c,comments:a,title:result_title,author:result_author}})(e)).catch(t=>Promise.reject(t))},fetchHnComments:function(t){function n(t,n){return t.children.length>n.children.length?-1:t.children.length<n.children.length?1:t.created_at>n.created_at?-1:t.created_at<n.created_at?1:0}const e=`https://hn.algolia.com/api/v1/items/${t}`;return r.getUrl({url:e,json:!0}).then(t=>{const e=t.children.sort(n);return{meta:{id:t.id,title:t.title,author:t.author,created_at:t.created_at,url:t.url},comments:e}})}}},function(t,n){function e(t){const n=new URL(t);return n.host+n.pathname+n.search}t.exports={getUrl:function(t){return new Promise((n,e)=>{var r=new XMLHttpRequest;r.onreadystatechange=(()=>{4==this.readyState&&(200!=this.status&&e(this.statusText),t.json?n(JSON.parse(this.responseText)):n(this.responseText))}),r.open("GET",t.url,!0),r.send(null)})},stripUrl:e,isMatchTwoUrls:function(t,n){return e(t)==e(n)}}},function(t,n,e){const r=!1;console.log("isDev:"+r);const o=e(5);function i(){let t;return r?((t=document.createElement("link")).href="./dist/main.css",t.rel="stylesheet",t.type="text/css"):(t=document.createElement("style")).innerHTML=o,t}const a=e(6);function c(){let t;(t=document.createElement("div")).setAttribute("class","icon");let n=document.createElement("a");return n.href="https://rahn.benwinding.com/",n.target="_blank",n.innerHTML=a,t.appendChild(n),t}function l(t,n){let e=document.createElement("div");e.setAttribute("class","rahn-child");let r=new Date(t.created_at),o=r.toLocaleDateString()+" - "+r.toLocaleTimeString(),i=t.text,a=t.author;if(!i||!a)return;const c=`\n    <div class="rahn-content">\n      <div class="rahn-meta">\n        <a class="rahn-author" href="${"https://news.ycombinator.com/user?id="+a}" target="_blank">${a}</a>\n        <span>${o}</span>\n        <a class="rahn-toggle" onclick="onClickToggle(this)" >[-]</a>\n      </div>\n      <div class="rahn-text">${i}</div>\n    </div>\n  `;e.insertAdjacentHTML("beforeend",c),n.appendChild(e);for(const n of t.children)l(n,e)}t.exports={makeIframe:function(t,n,e){let r=document.createElement("iframe");return r.style.opacity="0",r.setAttribute("name","rahn"),r.setAttribute("width","100%"),r.setAttribute("frameBorder","0"),r.addEventListener("load",function(){var o=r.contentWindow.document;o.open();const a=function(t){let n=document.createElement("div");n.setAttribute("class","rahn-root");for(const e of t)l(e,n);const e=`<script>${function(t){const n=t.parentElement.parentElement.parentElement;"[-]"==t.innerText?(n.style.height="15px",t.innerText="[+]"):(n.style.height="unset",t.innerText="[-]")}.toString()}<\/script>`;return n.insertAdjacentHTML("beforeend",e),n}(n);o.write(a.outerHTML),o.head.appendChild(i());let s=e.author,d=e.authorLink,u=e.title,h=e.titleLink;e.id;const m=`\n    <div>\n      <h1 id="title">${t} Discussion: <a href="${h}" target="_blank">[&#x2197;] ${u}</a></h1>\n      <p id="subtitle">by <a href="${d}" target="_blank">${s}</a>\n      <a href="${h}" target="_blank">${itemObj.comments.length} comments</a>\n      </p>\n    </div>\n    `;let f=document.createElement("div");f.setAttribute("class","rahn-header"),f.innerHTML=m,f.insertAdjacentElement("afterbegin",c()),o.body.insertAdjacentElement("afterbegin",f),o.close(),r.style.WebkitTransition="opacity 1s",r.style.MozTransition="opacity 1s",r.style.height="800px",r.style.opacity="1"}),r},makeIframeError:function(t,n){let e=document.createElement("iframe");return e.style.opacity="0",e.setAttribute("name","rahn"),e.setAttribute("width","100%"),e.setAttribute("frameBorder","0"),e.setAttribute("scrolling","no"),e.addEventListener("load",function(){var n=e.contentWindow.document;n.open(),n.write("<div></div>"),n.head.appendChild(i()),window.location.href,document.title;const r=`\n    <div class="error">\n      <p id="subtitle">No discussion found on ${t}</p>\n      <p id="subtitle"><a href="${submitlink}" target="_blank">Click here start one!</p>\n    </div>\n    `;let o=document.createElement("div");o.setAttribute("class","rahn-header"),o.innerHTML=r,o.insertAdjacentElement("afterbegin",c()),n.body.insertAdjacentElement("afterbegin",o),n.close(),e.style.WebkitTransition="opacity 1s",e.style.MozTransition="opacity 1s",e.style.height="50px",e.style.opacity="1"}),e}}},function(t,n){t.exports=" html, body {\n  left: 0px;\n  right: 0px;\n  margin-left: 0px;\n  width: 100% !important;\n  display: block !important;\n  background-color: #f6f6ef;\n  font-family: Verdana, Geneva, sans-serif;\n  height: fit-content;\n  overflow-x: hidden;\n}\n\n.rahn-root {\n  width: 100%;\n  margin-left: -10px;\n}\n\ndiv.error #title,\ndiv.error #title a {\n  color: grey;\n  padding-top: 0px;\n}\n\n.rahn-header {\n  width: 100%;\n  padding-left: 10px;\n  padding-right: 10px;\n  padding-bottom: 10px;\n}\n\n.rahn-header .icon svg {\n  height: 35px;\n  width: auto;\n  margin-right: 5px;\n}\n\n.rahn-header div {\n  width: fit-content;\n  display: inline-block;\n  vertical-align: top;\n}\n\n.rahn-header #title a,\n.rahn-header #title {\n  font-size: 12pt;\n  color: black;\n  margin-bottom: 2px;\n  margin-top: 0px;\n}\n\n.rahn-header #title a:visited {\n  color: grey;\n}\n\n.rahn-header #subtitle a,\n.rahn-header #subtitle {\n  font-size: 10pt;\n  color: grey;\n  padding: 0;\n  margin-top: 0;\n  margin-right: 6px;\n  margin-bottom: 0;\n}\n\n.rahn-child {\n  margin-left: 10px;\n  padding: 10px;\n  padding-top: 5px;\n  right: 0px;\n  left: 0px;\n  position: relative;\n  font-size: 9pt;\n  overflow: hidden;\n  padding-bottom: 0px;\n}\n\n.rahn-content {\n  margin-bottom: -10px;\n}\n\n.rahn-content a:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.rahn-meta, .rahn-author {\n  color: grey;\n}\n\n.rahn-author {\n  margin-right: 7px;\n}\n\n.rahn-child p {\n  margin-top: 5px;\n}\n\n.rahn-child pre {\n  color: black;\n  overflow-x: scroll;\n  background-color: #f7f7f7;\n}\n\n"},function(t,n){t.exports='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="139.5mm" height="139.07mm" version="1.1" viewBox="0 0 139.5 139.07" xmlns="http://www.w3.org/2000/svg" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n<metadata>\n<rdf:RDF>\n<cc:Work rdf:about="">\n<dc:format>image/svg+xml</dc:format>\n<dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/>\n<dc:title/>\n</cc:Work>\n</rdf:RDF>\n</metadata>\n<g transform="translate(-34.707 -60.568)">\n<path d="m74.823 175.85c0-10.567-0.0713-13.487-0.33073-13.555-0.1819-0.0472-1.5643-0.21536-3.0719-0.37357-7.1253-0.74774-13-3.4217-18.042-8.212-3.844-3.6522-6.0519-7.2727-7.6203-12.496l-0.70053-2.333v-44.838l0.70053-2.333c1.3861-4.616 3.5191-8.3809 6.4771-11.432 4.3461-4.4831 8.9466-7.0898 15.425-8.7399l2.5331-0.6452h68.527l2.5331 0.6452c6.5184 1.6603 11.177 4.3113 15.465 8.8004 3.0061 3.1468 5.0521 6.7616 6.4364 11.371l0.70053 2.333v44.838l-0.70053 2.333c-1.3842 4.6099-3.4302 8.2246-6.4364 11.372-4.2945 4.4955-8.988 7.1637-15.465 8.7919l-2.5331 0.63673-17.214 0.0823-17.214 0.0822-9.5687 8.8207c-5.2628 4.8514-11.893 10.958-14.734 13.57l-5.1654 4.7495z" fill="#f60" stroke="#fffdfd" stroke-width="6.954"/>\n<g transform="matrix(9.8733 0 -1.1005e-6 6.8198 -666.42 -632.09)" fill="#fff" aria-label="Y">\n<path d="m74.715 106.14h1.1214l2.1394 3.1729 2.1239-3.1729h1.1214l-2.7285 4.0411v3.6742h-1.049v-3.6742z" fill="#fff" stroke-width=".26458"/>\n</g>\n</g>\n</svg>\n'}]);