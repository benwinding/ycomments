/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/apis.js":
/*!*********************!*\
  !*** ./src/apis.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// API stuff\nfunction getUrlJson(url) {\n  return new Promise((resolve, reject) => {\n    var xmlhttp = new XMLHttpRequest();\n    xmlhttp.onreadystatechange = function() {\n      if (this.readyState != 4)\n        return;\n      if (this.status != 200)\n        reject(this.statusText)\n      var data = JSON.parse(this.responseText);\n      resolve(data)\n    };\n    xmlhttp.open(\"GET\", url, true);\n    xmlhttp.send(null);\n  })\n}\n\nfunction stripUrl(urlString) {\n  const url = new URL(urlString);\n  return url.host + url.pathname + url.search\n}\n\nfunction isMatchTwoUrls(url1, url2) {\n  return (stripUrl(url1) == stripUrl(url2));\n}\n\nfunction checkHnForUrl(urlString) {\n  const location = new URL(urlString);\n  const inithost = location.host;\n  const omitlist = ['news.ycombinator.com'];\n  if (omitlist.indexOf(inithost) >= 0) {\n    return Promise.reject('Hacker News API: Not going to search domain: Hacker News');\n  }\n  let initurl = location.href;\n  let search_url = encodeURIComponent(stripUrl(initurl))\n\n  let requestUrl = \"https://hn.algolia.com/api/v1/search?query=\" + search_url + \"&restrictSearchableAttributes=url\"\n  var xhttp = new XMLHttpRequest();\n\n  function processJsonResponse(data) {\n    if (data[\"nbHits\"] == 0) {\n      return Promise.reject('Hacker News API: No urls found');\n    }\n    let allhits = data[\"hits\"];\n    let num_of_comments = 0;\n    let hitMatch\n    for (let hit of allhits) {\n      if (isMatchTwoUrls(hit[\"url\"], initurl) && hit[\"num_comments\"] >= num_of_comments) {\n        num_of_comments = hit[\"num_comments\"];\n        hitMatch = hit;\n      }\n    }\n    if (hitMatch == null)\n      return Promise.reject('Hacker News API: No url matches found');\n\n    result_id = hitMatch[\"objectID\"];\n    result_title = hitMatch[\"title\"];\n    result_author = hitMatch[\"author\"];\n\n    const linkUrl = `https://news.ycombinator.com/item?id=${result_id}`\n    return {\n      id: result_id,\n      link: linkUrl,\n      comments: num_of_comments,\n      title: result_title,\n      author: result_author,\n    }\n  }\n\n  return getUrlJson(requestUrl)\n  .then((data) => {\n    return processJsonResponse(data)\n  }).catch((err) => {\n    return Promise.reject(err);\n  })\n}\n\nfunction fetchHnComments(commentsId) {\n  function sortComments(a,b) {\n    if (a.children.length > b.children.length)\n      return -1;\n    if (a.children.length < b.children.length)\n      return 1;\n\n    if (a.created_at > b.created_at)\n      return -1;\n    if (a.created_at < b.created_at)\n      return 1;\n\n    return 0;\n  }\n\n  const apiUrl = `https://hn.algolia.com/api/v1/items/${commentsId}`\n  return getUrlJson(apiUrl)\n    .then((data) => {\n      const sorted = data.children.sort(sortComments);\n      return {\n        meta: {\n          id: data.id,\n          title: data.title,\n          author: data.author,\n          created_at: data.created_at,\n          url: data.url\n        },\n        comments: sorted\n      };\n    })\n}\n\n\nmodule.exports = {\n  checkHnForUrl: checkHnForUrl,\n  fetchHnComments: fetchHnComments\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpcy5qcz83M2NhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELFVBQVU7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0RBQXdELFdBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9zcmMvYXBpcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEFQSSBzdHVmZlxuZnVuY3Rpb24gZ2V0VXJsSnNvbih1cmwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB2YXIgeG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhtbGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9IDQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnN0YXR1cyAhPSAyMDApXG4gICAgICAgIHJlamVjdCh0aGlzLnN0YXR1c1RleHQpXG4gICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgcmVzb2x2ZShkYXRhKVxuICAgIH07XG4gICAgeG1saHR0cC5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgeG1saHR0cC5zZW5kKG51bGwpO1xuICB9KVxufVxuXG5mdW5jdGlvbiBzdHJpcFVybCh1cmxTdHJpbmcpIHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICByZXR1cm4gdXJsLmhvc3QgKyB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoXG59XG5cbmZ1bmN0aW9uIGlzTWF0Y2hUd29VcmxzKHVybDEsIHVybDIpIHtcbiAgcmV0dXJuIChzdHJpcFVybCh1cmwxKSA9PSBzdHJpcFVybCh1cmwyKSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrSG5Gb3JVcmwodXJsU3RyaW5nKSB7XG4gIGNvbnN0IGxvY2F0aW9uID0gbmV3IFVSTCh1cmxTdHJpbmcpO1xuICBjb25zdCBpbml0aG9zdCA9IGxvY2F0aW9uLmhvc3Q7XG4gIGNvbnN0IG9taXRsaXN0ID0gWyduZXdzLnljb21iaW5hdG9yLmNvbSddO1xuICBpZiAob21pdGxpc3QuaW5kZXhPZihpbml0aG9zdCkgPj0gMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdCgnSGFja2VyIE5ld3MgQVBJOiBOb3QgZ29pbmcgdG8gc2VhcmNoIGRvbWFpbjogSGFja2VyIE5ld3MnKTtcbiAgfVxuICBsZXQgaW5pdHVybCA9IGxvY2F0aW9uLmhyZWY7XG4gIGxldCBzZWFyY2hfdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmlwVXJsKGluaXR1cmwpKVxuXG4gIGxldCByZXF1ZXN0VXJsID0gXCJodHRwczovL2huLmFsZ29saWEuY29tL2FwaS92MS9zZWFyY2g/cXVlcnk9XCIgKyBzZWFyY2hfdXJsICsgXCImcmVzdHJpY3RTZWFyY2hhYmxlQXR0cmlidXRlcz11cmxcIlxuICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICBmdW5jdGlvbiBwcm9jZXNzSnNvblJlc3BvbnNlKGRhdGEpIHtcbiAgICBpZiAoZGF0YVtcIm5iSGl0c1wiXSA9PSAwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ0hhY2tlciBOZXdzIEFQSTogTm8gdXJscyBmb3VuZCcpO1xuICAgIH1cbiAgICBsZXQgYWxsaGl0cyA9IGRhdGFbXCJoaXRzXCJdO1xuICAgIGxldCBudW1fb2ZfY29tbWVudHMgPSAwO1xuICAgIGxldCBoaXRNYXRjaFxuICAgIGZvciAobGV0IGhpdCBvZiBhbGxoaXRzKSB7XG4gICAgICBpZiAoaXNNYXRjaFR3b1VybHMoaGl0W1widXJsXCJdLCBpbml0dXJsKSAmJiBoaXRbXCJudW1fY29tbWVudHNcIl0gPj0gbnVtX29mX2NvbW1lbnRzKSB7XG4gICAgICAgIG51bV9vZl9jb21tZW50cyA9IGhpdFtcIm51bV9jb21tZW50c1wiXTtcbiAgICAgICAgaGl0TWF0Y2ggPSBoaXQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoaXRNYXRjaCA9PSBudWxsKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdIYWNrZXIgTmV3cyBBUEk6IE5vIHVybCBtYXRjaGVzIGZvdW5kJyk7XG5cbiAgICByZXN1bHRfaWQgPSBoaXRNYXRjaFtcIm9iamVjdElEXCJdO1xuICAgIHJlc3VsdF90aXRsZSA9IGhpdE1hdGNoW1widGl0bGVcIl07XG4gICAgcmVzdWx0X2F1dGhvciA9IGhpdE1hdGNoW1wiYXV0aG9yXCJdO1xuXG4gICAgY29uc3QgbGlua1VybCA9IGBodHRwczovL25ld3MueWNvbWJpbmF0b3IuY29tL2l0ZW0/aWQ9JHtyZXN1bHRfaWR9YFxuICAgIHJldHVybiB7XG4gICAgICBpZDogcmVzdWx0X2lkLFxuICAgICAgbGluazogbGlua1VybCxcbiAgICAgIGNvbW1lbnRzOiBudW1fb2ZfY29tbWVudHMsXG4gICAgICB0aXRsZTogcmVzdWx0X3RpdGxlLFxuICAgICAgYXV0aG9yOiByZXN1bHRfYXV0aG9yLFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRVcmxKc29uKHJlcXVlc3RVcmwpXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHByb2Nlc3NKc29uUmVzcG9uc2UoZGF0YSlcbiAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICB9KVxufVxuXG5mdW5jdGlvbiBmZXRjaEhuQ29tbWVudHMoY29tbWVudHNJZCkge1xuICBmdW5jdGlvbiBzb3J0Q29tbWVudHMoYSxiKSB7XG4gICAgaWYgKGEuY2hpbGRyZW4ubGVuZ3RoID4gYi5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGEuY2hpbGRyZW4ubGVuZ3RoIDwgYi5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICByZXR1cm4gMTtcblxuICAgIGlmIChhLmNyZWF0ZWRfYXQgPiBiLmNyZWF0ZWRfYXQpXG4gICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGEuY3JlYXRlZF9hdCA8IGIuY3JlYXRlZF9hdClcbiAgICAgIHJldHVybiAxO1xuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjb25zdCBhcGlVcmwgPSBgaHR0cHM6Ly9obi5hbGdvbGlhLmNvbS9hcGkvdjEvaXRlbXMvJHtjb21tZW50c0lkfWBcbiAgcmV0dXJuIGdldFVybEpzb24oYXBpVXJsKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBzb3J0ZWQgPSBkYXRhLmNoaWxkcmVuLnNvcnQoc29ydENvbW1lbnRzKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICBhdXRob3I6IGRhdGEuYXV0aG9yLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IGRhdGEuY3JlYXRlZF9hdCxcbiAgICAgICAgICB1cmw6IGRhdGEudXJsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbW1lbnRzOiBzb3J0ZWRcbiAgICAgIH07XG4gICAgfSlcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY2hlY2tIbkZvclVybDogY2hlY2tIbkZvclVybCxcbiAgZmV0Y2hIbkNvbW1lbnRzOiBmZXRjaEhuQ29tbWVudHNcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/apis.js\n");

/***/ }),

/***/ "./src/comment-builder.js":
/*!********************************!*\
  !*** ./src/comment-builder.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function makeThread(comment, parentDiv) {\n// Create the comment structure\n\n  let commentDiv = document.createElement('div');\n  commentDiv.setAttribute('class', 'ycomments-child')\n  let date = new Date(comment.created_at);\n  let dateString = date.toLocaleDateString() + ' - ' + date.toLocaleTimeString();\n  let commentText = comment.text.trim();\n  let author = comment.author;\n  let authorLink = \"https://news.ycombinator.com/user?id=\"+author;\n\n  const commentHtml = `\n    <div class=\"ycomments-content\">\n      <div class=\"ycomments-meta\">\n        <a class=\"ycomments-author\" href=\"${authorLink}\" target=\"_blank\">${author}</a>\n        <span>${dateString}</span>\n        <a class=\"ycomments-toggle\" onclick=\"onClickToggle(this)\" >[-]</a>\n      </div>\n      <div class=\"ycomments-text\">${commentText}</div>\n    </div>\n  `;\n  commentDiv.insertAdjacentHTML('beforeend', commentHtml);\n// Add to parentDiv\n  parentDiv.appendChild(commentDiv);\n  for (const childComment of comment.children) {\n    makeThread(childComment, commentDiv)\n  }\n}\n\nfunction makeCommentsNode(comments) {\n  let commentsRootDiv = document.createElement('div');\n  commentsRootDiv.setAttribute(\"class\", \"ycomments-root\")\n  for (const comment of comments) {\n    makeThread(comment, commentsRootDiv)\n  }\n\n  function onClickToggle(e) {\n    const commentDiv = e.parentElement.parentElement.parentElement\n    if (e.innerText == '[-]') {\n      commentDiv.style.height = '10px'\n      e.innerText = '[+]'        \n    }\n    else {\n      commentDiv.style.height = 'unset'\n      e.innerText = '[-]'\n    }\n  };\n\n  const scriptString = `<script>${onClickToggle.toString()}</script>`\n  commentsRootDiv.insertAdjacentHTML('beforeend', scriptString)\n  return commentsRootDiv;\n}\n\nfunction getHnCommentsNode(thisUrl) {\n  return fetchHnComments(result.id)\n    .then((comments) => {\n      \n      return {\n        'node': node,\n        'results': resultJson\n      }\n    })\n    .catch((err) => console.error(err))\n}\n\nfunction makeIframe(itemObj) {\n  const comments = itemObj.comments;\n  const meta = itemObj.meta;\n  let iframe = document.createElement('iframe');\n\n  function onIframeLoaded() {\n    var doc = iframe.contentWindow.document;\n    doc.open();\n    const node = makeCommentsNode(comments);\n    // write comments, creates html structure\n    doc.write(node.outerHTML);\n    // add stylesheet to iframe head\n//     doc.head.appendChild(getCssTagDev())\n\n    // doc.head.appendChild(cssLink)\n    let author = meta.author;\n    let authorLink = \"https://news.ycombinator.com/user?id=\"+author;\n    let title = meta.title;\n    let id = meta.id;\n    let titleLink = \"https://news.ycombinator.com/item?id=\"+id;\n\n    const headerHtml = `\n      <div class=\"ycomments-header\">\n        <h1><a href=\"${titleLink}\" target=\"_blank\">${title}</a></h1>\n        <p>by <a href=\"${authorLink}\" target=\"_blank\">${author}</a>\n        <a href=\"${titleLink}\" target=\"_blank\">10 comments</a>\n        </p>\n      </div>\n    `;\n    doc.body.insertAdjacentHTML('afterbegin', headerHtml)\n    doc.close();\n\n    iframe.style.WebkitTransition = 'opacity 1s';\n    iframe.style.MozTransition = 'opacity 1s';\n    iframe.style.height = doc.body.scrollHeight + 'px';\n    iframe.style.opacity = '1';\n  }\n\n  iframe.style.opacity = '0';\n  iframe.setAttribute('name', 'ycomments');\n  iframe.setAttribute('width', '100%');\n  iframe.setAttribute('frameBorder', '0');\n  iframe.setAttribute('scrolling', 'no');\n  iframe.addEventListener('load', onIframeLoaded);\n  return iframe;\n}\n\nmodule.exports = {\n  makeIframe: makeIframe,\n  getHnCommentsNode: getHnCommentsNode\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbWVudC1idWlsZGVyLmpzPzM0MDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsV0FBVyxvQkFBb0IsT0FBTztBQUNsRixnQkFBZ0IsV0FBVztBQUMzQjtBQUNBO0FBQ0Esb0NBQW9DLFlBQVk7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtDQUFrQyx5QkFBeUI7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsVUFBVSxvQkFBb0IsTUFBTTtBQUMzRCx5QkFBeUIsV0FBVyxvQkFBb0IsT0FBTztBQUMvRCxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9jb21tZW50LWJ1aWxkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBtYWtlVGhyZWFkKGNvbW1lbnQsIHBhcmVudERpdikge1xuLy8gQ3JlYXRlIHRoZSBjb21tZW50IHN0cnVjdHVyZVxuXG4gIGxldCBjb21tZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbW1lbnREaXYuc2V0QXR0cmlidXRlKCdjbGFzcycsICd5Y29tbWVudHMtY2hpbGQnKVxuICBsZXQgZGF0ZSA9IG5ldyBEYXRlKGNvbW1lbnQuY3JlYXRlZF9hdCk7XG4gIGxldCBkYXRlU3RyaW5nID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKSArICcgLSAnICsgZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoKTtcbiAgbGV0IGNvbW1lbnRUZXh0ID0gY29tbWVudC50ZXh0LnRyaW0oKTtcbiAgbGV0IGF1dGhvciA9IGNvbW1lbnQuYXV0aG9yO1xuICBsZXQgYXV0aG9yTGluayA9IFwiaHR0cHM6Ly9uZXdzLnljb21iaW5hdG9yLmNvbS91c2VyP2lkPVwiK2F1dGhvcjtcblxuICBjb25zdCBjb21tZW50SHRtbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwieWNvbW1lbnRzLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ5Y29tbWVudHMtbWV0YVwiPlxuICAgICAgICA8YSBjbGFzcz1cInljb21tZW50cy1hdXRob3JcIiBocmVmPVwiJHthdXRob3JMaW5rfVwiIHRhcmdldD1cIl9ibGFua1wiPiR7YXV0aG9yfTwvYT5cbiAgICAgICAgPHNwYW4+JHtkYXRlU3RyaW5nfTwvc3Bhbj5cbiAgICAgICAgPGEgY2xhc3M9XCJ5Y29tbWVudHMtdG9nZ2xlXCIgb25jbGljaz1cIm9uQ2xpY2tUb2dnbGUodGhpcylcIiA+Wy1dPC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwieWNvbW1lbnRzLXRleHRcIj4ke2NvbW1lbnRUZXh0fTwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuICBjb21tZW50RGl2Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY29tbWVudEh0bWwpO1xuLy8gQWRkIHRvIHBhcmVudERpdlxuICBwYXJlbnREaXYuYXBwZW5kQ2hpbGQoY29tbWVudERpdik7XG4gIGZvciAoY29uc3QgY2hpbGRDb21tZW50IG9mIGNvbW1lbnQuY2hpbGRyZW4pIHtcbiAgICBtYWtlVGhyZWFkKGNoaWxkQ29tbWVudCwgY29tbWVudERpdilcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlQ29tbWVudHNOb2RlKGNvbW1lbnRzKSB7XG4gIGxldCBjb21tZW50c1Jvb3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29tbWVudHNSb290RGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwieWNvbW1lbnRzLXJvb3RcIilcbiAgZm9yIChjb25zdCBjb21tZW50IG9mIGNvbW1lbnRzKSB7XG4gICAgbWFrZVRocmVhZChjb21tZW50LCBjb21tZW50c1Jvb3REaXYpXG4gIH1cblxuICBmdW5jdGlvbiBvbkNsaWNrVG9nZ2xlKGUpIHtcbiAgICBjb25zdCBjb21tZW50RGl2ID0gZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudFxuICAgIGlmIChlLmlubmVyVGV4dCA9PSAnWy1dJykge1xuICAgICAgY29tbWVudERpdi5zdHlsZS5oZWlnaHQgPSAnMTBweCdcbiAgICAgIGUuaW5uZXJUZXh0ID0gJ1srXScgICAgICAgIFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbW1lbnREaXYuc3R5bGUuaGVpZ2h0ID0gJ3Vuc2V0J1xuICAgICAgZS5pbm5lclRleHQgPSAnWy1dJ1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzY3JpcHRTdHJpbmcgPSBgPHNjcmlwdD4ke29uQ2xpY2tUb2dnbGUudG9TdHJpbmcoKX08L3NjcmlwdD5gXG4gIGNvbW1lbnRzUm9vdERpdi5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHNjcmlwdFN0cmluZylcbiAgcmV0dXJuIGNvbW1lbnRzUm9vdERpdjtcbn1cblxuZnVuY3Rpb24gZ2V0SG5Db21tZW50c05vZGUodGhpc1VybCkge1xuICByZXR1cm4gZmV0Y2hIbkNvbW1lbnRzKHJlc3VsdC5pZClcbiAgICAudGhlbigoY29tbWVudHMpID0+IHtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ25vZGUnOiBub2RlLFxuICAgICAgICAncmVzdWx0cyc6IHJlc3VsdEpzb25cbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpXG59XG5cbmZ1bmN0aW9uIG1ha2VJZnJhbWUoaXRlbU9iaikge1xuICBjb25zdCBjb21tZW50cyA9IGl0ZW1PYmouY29tbWVudHM7XG4gIGNvbnN0IG1ldGEgPSBpdGVtT2JqLm1ldGE7XG4gIGxldCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblxuICBmdW5jdGlvbiBvbklmcmFtZUxvYWRlZCgpIHtcbiAgICB2YXIgZG9jID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgZG9jLm9wZW4oKTtcbiAgICBjb25zdCBub2RlID0gbWFrZUNvbW1lbnRzTm9kZShjb21tZW50cyk7XG4gICAgLy8gd3JpdGUgY29tbWVudHMsIGNyZWF0ZXMgaHRtbCBzdHJ1Y3R1cmVcbiAgICBkb2Mud3JpdGUobm9kZS5vdXRlckhUTUwpO1xuICAgIC8vIGFkZCBzdHlsZXNoZWV0IHRvIGlmcmFtZSBoZWFkXG4vLyAgICAgZG9jLmhlYWQuYXBwZW5kQ2hpbGQoZ2V0Q3NzVGFnRGV2KCkpXG5cbiAgICAvLyBkb2MuaGVhZC5hcHBlbmRDaGlsZChjc3NMaW5rKVxuICAgIGxldCBhdXRob3IgPSBtZXRhLmF1dGhvcjtcbiAgICBsZXQgYXV0aG9yTGluayA9IFwiaHR0cHM6Ly9uZXdzLnljb21iaW5hdG9yLmNvbS91c2VyP2lkPVwiK2F1dGhvcjtcbiAgICBsZXQgdGl0bGUgPSBtZXRhLnRpdGxlO1xuICAgIGxldCBpZCA9IG1ldGEuaWQ7XG4gICAgbGV0IHRpdGxlTGluayA9IFwiaHR0cHM6Ly9uZXdzLnljb21iaW5hdG9yLmNvbS9pdGVtP2lkPVwiK2lkO1xuXG4gICAgY29uc3QgaGVhZGVySHRtbCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ5Y29tbWVudHMtaGVhZGVyXCI+XG4gICAgICAgIDxoMT48YSBocmVmPVwiJHt0aXRsZUxpbmt9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHt0aXRsZX08L2E+PC9oMT5cbiAgICAgICAgPHA+YnkgPGEgaHJlZj1cIiR7YXV0aG9yTGlua31cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke2F1dGhvcn08L2E+XG4gICAgICAgIDxhIGhyZWY9XCIke3RpdGxlTGlua31cIiB0YXJnZXQ9XCJfYmxhbmtcIj4xMCBjb21tZW50czwvYT5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICBkb2MuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBoZWFkZXJIdG1sKVxuICAgIGRvYy5jbG9zZSgpO1xuXG4gICAgaWZyYW1lLnN0eWxlLldlYmtpdFRyYW5zaXRpb24gPSAnb3BhY2l0eSAxcyc7XG4gICAgaWZyYW1lLnN0eWxlLk1velRyYW5zaXRpb24gPSAnb3BhY2l0eSAxcyc7XG4gICAgaWZyYW1lLnN0eWxlLmhlaWdodCA9IGRvYy5ib2R5LnNjcm9sbEhlaWdodCArICdweCc7XG4gICAgaWZyYW1lLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gIH1cblxuICBpZnJhbWUuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnbmFtZScsICd5Y29tbWVudHMnKTtcbiAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTAwJScpO1xuICBpZnJhbWUuc2V0QXR0cmlidXRlKCdmcmFtZUJvcmRlcicsICcwJyk7XG4gIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3Njcm9sbGluZycsICdubycpO1xuICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uSWZyYW1lTG9hZGVkKTtcbiAgcmV0dXJuIGlmcmFtZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIG1ha2VJZnJhbWU6IG1ha2VJZnJhbWUsXG4gIGdldEhuQ29tbWVudHNOb2RlOiBnZXRIbkNvbW1lbnRzTm9kZVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/comment-builder.js\n");

/***/ }),

/***/ "./src/main.css":
/*!**********************!*\
  !*** ./src/main.css ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5jc3M/YmIzZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiIuL3NyYy9tYWluLmNzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/main.css\n");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ./main.css */ \"./src/main.css\");\nconst apis = __webpack_require__(/*! ./apis.js */ \"./src/apis.js\");\nconst builder = __webpack_require__(/*! ./comment-builder.js */ \"./src/comment-builder.js\");\n\nfunction getItemId(itemValue) {\n  if (itemValue == 'auto') {\n    // let thisUrl = window.location.href;\n    let thisUrl = 'http://www.youtube.com/watch?v=oVfHeWTKjag';\n    return apis.checkHnForUrl(thisUrl)\n      .then((res) => {\n        return res.id;\n      })\n  }\n  else {\n    return Promise.resolve(itemValue);\n  }\n}\n\nfunction addIframeToPage(commentsObj) {\n  let ycommentsRoot = document.querySelector('div[comments]');\n  let iframe = builder.makeIframe(commentsObj);\n  ycommentsRoot.appendChild(iframe);\n}\n\nfunction onPageLoad() {\n  let ycommentsRoot = document.querySelector('div[comments]');\n  let itemValue = ycommentsRoot.getAttribute('comments');\n\n  getItemId(itemValue)\n    .then((commentsId) => apis.fetchHnComments(commentsId))\n    .then((commentsObj) => addIframeToPage(commentsObj))\n    .catch((err) => console.error(err))\n}\n\nwindow.addEventListener('load', onPageLoad)\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcz81NmQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9zcmMvbWFpbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4vbWFpbi5jc3MnKTtcbmNvbnN0IGFwaXMgPSByZXF1aXJlKCcuL2FwaXMuanMnKTtcbmNvbnN0IGJ1aWxkZXIgPSByZXF1aXJlKCcuL2NvbW1lbnQtYnVpbGRlci5qcycpO1xuXG5mdW5jdGlvbiBnZXRJdGVtSWQoaXRlbVZhbHVlKSB7XG4gIGlmIChpdGVtVmFsdWUgPT0gJ2F1dG8nKSB7XG4gICAgLy8gbGV0IHRoaXNVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdGhpc1VybCA9ICdodHRwOi8vd3d3LnlvdXR1YmUuY29tL3dhdGNoP3Y9b1ZmSGVXVEtqYWcnO1xuICAgIHJldHVybiBhcGlzLmNoZWNrSG5Gb3JVcmwodGhpc1VybClcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlcy5pZDtcbiAgICAgIH0pXG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpdGVtVmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZElmcmFtZVRvUGFnZShjb21tZW50c09iaikge1xuICBsZXQgeWNvbW1lbnRzUm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Rpdltjb21tZW50c10nKTtcbiAgbGV0IGlmcmFtZSA9IGJ1aWxkZXIubWFrZUlmcmFtZShjb21tZW50c09iaik7XG4gIHljb21tZW50c1Jvb3QuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbn1cblxuZnVuY3Rpb24gb25QYWdlTG9hZCgpIHtcbiAgbGV0IHljb21tZW50c1Jvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXZbY29tbWVudHNdJyk7XG4gIGxldCBpdGVtVmFsdWUgPSB5Y29tbWVudHNSb290LmdldEF0dHJpYnV0ZSgnY29tbWVudHMnKTtcblxuICBnZXRJdGVtSWQoaXRlbVZhbHVlKVxuICAgIC50aGVuKChjb21tZW50c0lkKSA9PiBhcGlzLmZldGNoSG5Db21tZW50cyhjb21tZW50c0lkKSlcbiAgICAudGhlbigoY29tbWVudHNPYmopID0+IGFkZElmcmFtZVRvUGFnZShjb21tZW50c09iaikpXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSlcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvblBhZ2VMb2FkKVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/main.js\n");

/***/ })

/******/ });