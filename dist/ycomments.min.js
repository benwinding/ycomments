!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=1)}([function(n,e){n.exports="html, body {\r\n  left: 0px;\r\n  right: 0px;\r\n  margin-left: 0px;\r\n  width: 100% !important;\r\n  display: block !important;\r\n  background-color: #f6f6ef;\r\n  font-family: Verdana, Geneva, sans-serif;\r\n}\r\n\r\n.ycomments-root {\r\n  width: 100%;\r\n  margin-left: -10px;\r\n}\r\n\r\n.ycomments-header {\r\n  width: 100%;\r\n  padding-left: 10px;\r\n  padding-right: 10px;\r\n}\r\n\r\n.ycomments-header .icon svg {\r\n  height: 35px;\r\n  width: auto;\r\n  margin-right: 5px;\r\n}\r\n\r\n.ycomments-header div {\r\n  width: fit-content;\r\n  display: inline-block;\r\n}\r\n\r\n.ycomments-header #title a,\r\n.ycomments-header #title {\r\n  font-size: 12pt;\r\n  color: black;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.ycomments-header #title a:visited {\r\n  color: grey;\r\n}\r\n\r\n.ycomments-header #subtitle a,\r\n.ycomments-header #subtitle {\r\n  font-size: 10pt;\r\n  color: grey;\r\n  padding: 0;\r\n  margin-top: 0;\r\n  margin-right: 6px;\r\n}\r\n\r\n.ycomments-child {\r\n  margin-left: 10px;\r\n  padding: 10px;\r\n  padding-top: 5px;\r\n  right: 0px;\r\n  left: 0px;\r\n  position: relative;\r\n  font-size: 9pt;\r\n  overflow: hidden;\r\n}\r\n\r\n.ycomments-content {\r\n  margin-bottom: -10px;\r\n}\r\n\r\n.ycomments-content a:hover {\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n}\r\n\r\n.ycomments-meta, .ycomments-author {\r\n  color: grey;\r\n}\r\n\r\n.ycomments-author {\r\n  margin-right: 7px;\r\n}\r\n\r\n.ycomments-child p {\r\n  margin-top: 5px;\r\n}\r\n\r\n.ycomments-child pre {\r\n  color: black;\r\n  overflow-x: scroll;\r\n  background-color: #f7f7f7;\r\n}\r\n\r\n"},function(n,e,t){t(0);const r=t(2),o=t(3);function i(){return function(n){if("auto"==n){let n="http://www.youtube.com/watch?v=oVfHeWTKjag";return r.checkHnForUrl(n).then(n=>n.id)}return Promise.resolve(n)}(itemValue).then(n=>r.fetchHnComments(n))}window.addEventListener("load",function(){document.querySelector("div[comments]").getAttribute("comments"),i().then(n=>(function(n){let e=document.querySelector("div[comments]"),t=o.makeIframe(n);e.appendChild(t)})(n)).catch(n=>console.error(n))})},function(n,e){function t(n){return new Promise((e,t)=>{var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState){200!=this.status&&t(this.statusText);var n=JSON.parse(this.responseText);e(n)}},r.open("GET",n,!0),r.send(null)})}function r(n){const e=new URL(n);return e.host+e.pathname+e.search}function o(n,e){return r(n)==r(e)}n.exports={checkHnForUrl:function(n){const e=new URL(n),i=e.host;if(["news.ycombinator.com"].indexOf(i)>=0)return Promise.reject("Hacker News API: Not going to search domain: Hacker News");let c=e.href,a="https://hn.algolia.com/api/v1/search?query="+encodeURIComponent(r(c))+"&restrictSearchableAttributes=url";return new XMLHttpRequest,t(a).then(n=>(function(n){if(0==n.nbHits)return Promise.reject("Hacker News API: No urls found");let e,t=n.hits,r=0;for(let n of t)o(n.url,c)&&n.num_comments>=r&&(r=n.num_comments,e=n);if(null==e)return Promise.reject("Hacker News API: No url matches found");result_id=e.objectID,result_title=e.title,result_author=e.author;const i=`https://news.ycombinator.com/item?id=${result_id}`;return{id:result_id,link:i,comments:r,title:result_title,author:result_author}})(n)).catch(n=>Promise.reject(n))},fetchHnComments:function(n){function e(n,e){return n.children.length>e.children.length?-1:n.children.length<e.children.length?1:n.created_at>e.created_at?-1:n.created_at<e.created_at?1:0}return t(`https://hn.algolia.com/api/v1/items/${n}`).then(n=>{const t=n.children.sort(e);return{meta:{id:n.id,title:n.title,author:n.author,created_at:n.created_at,url:n.url},comments:t}})}}},function(n,e,t){function r(n,e){let t=document.createElement("div");t.setAttribute("class","ycomments-child");let o=new Date(n.created_at),i=o.toLocaleDateString()+" - "+o.toLocaleTimeString(),c=n.text.trim(),a=n.author;const s=`\n    <div class="ycomments-content">\n      <div class="ycomments-meta">\n        <a class="ycomments-author" href="${"https://news.ycombinator.com/user?id="+a}" target="_blank">${a}</a>\n        <span>${i}</span>\n        <a class="ycomments-toggle" onclick="onClickToggle(this)" >[-]</a>\n      </div>\n      <div class="ycomments-text">${c}</div>\n    </div>\n  `;t.insertAdjacentHTML("beforeend",s),e.appendChild(t);for(const e of n.children)r(e,t)}const o=!1;console.log("isDev:"+o);const i=t(0);const c=t(4);n.exports={makeIframe:function(n){const e=n.comments,t=n.meta;let a=document.createElement("iframe");return a.style.opacity="0",a.setAttribute("name","ycomments"),a.setAttribute("width","100%"),a.setAttribute("frameBorder","0"),a.setAttribute("scrolling","no"),a.addEventListener("load",function(){var s=a.contentWindow.document;s.open();const l=function(n){let e=document.createElement("div");e.setAttribute("class","ycomments-root");for(const t of n)r(t,e);const t=`<script>${function(n){const e=n.parentElement.parentElement.parentElement;"[-]"==n.innerText?(e.style.height="10px",n.innerText="[+]"):(e.style.height="unset",n.innerText="[-]")}.toString()}<\/script>`;return e.insertAdjacentHTML("beforeend",t),e}(e);s.write(l.outerHTML),s.head.appendChild(function(){let n;return o?((n=document.createElement("link")).href="./dist/main.css",n.rel="stylesheet",n.type="text/css"):(n=document.createElement("style")).innerHTML=i,n}());let m=t.author,d="https://news.ycombinator.com/user?id="+m,p=t.title,u="https://news.ycombinator.com/item?id="+t.id;const f=`\n    <div>\n      <h1 id="title">Source: <a href="${u}" target="_blank">[&#x2197;] ${p}</a></h1>\n      <p id="subtitle">by <a href="${d}" target="_blank">${m}</a>\n      <a href="${u}" target="_blank">${n.comments.length} comments</a>\n      </p>\n    </div>\n    `;let h=document.createElement("div");h.setAttribute("class","ycomments-header"),h.innerHTML=f,h.insertAdjacentElement("afterbegin",function(){let n;(n=document.createElement("div")).setAttribute("class","icon");let e=document.createElement("a");return e.href="https://ycomments.benwinding.com/",e.target="_blank",e.innerHTML=c,n.appendChild(e),n}()),s.body.insertAdjacentElement("afterbegin",h),s.close(),a.style.WebkitTransition="opacity 1s",a.style.MozTransition="opacity 1s",a.style.height=s.body.scrollHeight+"px",a.style.opacity="1"}),a}}},function(n,e){n.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\x3c!-- Created with Inkscape (http://www.inkscape.org/) --\x3e\n\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"\n   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"\n   width="139.498mm"\n   height="139.06783mm"\n   viewBox="0 0 139.498 139.06783"\n   version="1.1"\n   id="svg8"\n   inkscape:version="0.92.3 (2405546, 2018-03-11)"\n   sodipodi:docname="icon-white.svg"\n   inkscape:export-filename="/home/ben/projects/ycomments-landing/public/images/icon-128x128.png"\n   inkscape:export-xdpi="27.370001"\n   inkscape:export-ydpi="27.370001">\n  <defs\n     id="defs2" />\n  <sodipodi:namedview\n     id="base"\n     pagecolor="#ffffff"\n     bordercolor="#666666"\n     borderopacity="1.0"\n     inkscape:pageopacity="0.0"\n     inkscape:pageshadow="2"\n     inkscape:zoom="0.49497475"\n     inkscape:cx="-154.15238"\n     inkscape:cy="-35.754335"\n     inkscape:document-units="mm"\n     inkscape:current-layer="layer1"\n     showgrid="false"\n     inkscape:window-width="1853"\n     inkscape:window-height="1025"\n     inkscape:window-x="67"\n     inkscape:window-y="27"\n     inkscape:window-maximized="1"\n     fit-margin-top="1"\n     fit-margin-left="1"\n     fit-margin-right="1"\n     fit-margin-bottom="1" />\n  <metadata\n     id="metadata5">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title />\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <g\n     inkscape:label="Layer 1"\n     inkscape:groupmode="layer"\n     id="layer1"\n     transform="translate(-34.707214,-60.567548)">\n    <path\n       style="fill:#ff6600;fill-opacity:1;stroke-width:6.954;stroke:#fffdfd;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"\n       d="m 74.822888,175.84563 c 0,-10.56684 -0.0713,-13.48741 -0.33073,-13.55482 -0.1819,-0.0472 -1.56427,-0.21536 -3.07193,-0.37357 -7.1253,-0.74774 -13.00014,-3.42171 -18.0421,-8.21197 -3.84405,-3.65215 -6.05193,-7.27266 -7.62033,-12.49586 l -0.70053,-2.33298 V 116.45742 94.038444 l 0.70053,-2.332981 c 1.38607,-4.616012 3.51914,-8.380873 6.47707,-11.432024 4.34614,-4.48311 8.94659,-7.089784 15.42475,-8.739855 l 2.53306,-0.645204 h 34.263532 34.26354 l 2.53306,0.645204 c 6.51836,1.660311 11.17708,4.311286 15.46547,8.800386 3.00614,3.146839 5.0521,6.761575 6.43635,11.371493 l 0.70053,2.332981 v 22.418976 22.41901 l -0.70053,2.33298 c -1.38425,4.60992 -3.43021,8.22465 -6.43635,11.3715 -4.29452,4.49551 -8.98795,7.16366 -15.46547,8.79191 l -2.53306,0.63673 -17.21427,0.0823 -17.21426,0.0822 -9.568711,8.82073 c -5.2628,4.85141 -11.89318,10.95802 -14.734171,13.57025 l -5.165449,4.74952 z"\n       id="path826"\n       inkscape:connector-curvature="0"\n       inkscape:export-xdpi="27.370001"\n       inkscape:export-ydpi="27.370001" />\n    <g\n       aria-label="Y"\n       style="font-style:normal;font-weight:normal;font-size:10.58333302px;line-height:1.25;font-family:sans-serif;letter-spacing:0px;word-spacing:0px;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.26458332"\n       id="text849"\n       transform="matrix(9.8732953,0,-1.1004584e-6,6.8197788,-666.4226,-632.09028)"\n       inkscape:export-xdpi="27.370001"\n       inkscape:export-ydpi="27.370001">\n      <path\n         d="m 74.715123,106.13624 h 1.121379 l 2.139404,3.17293 2.123902,-3.17293 h 1.121378 l -2.728515,4.0411 v 3.67419 h -1.049032 v -3.67419 z"\n         style="fill:#ffffff;fill-opacity:1;stroke-width:0.26458332"\n         id="path851"\n         inkscape:connector-curvature="0" />\n    </g>\n  </g>\n</svg>\n'}]);